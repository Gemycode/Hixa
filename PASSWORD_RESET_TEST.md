# ุฏููู ุงุฎุชุจุงุฑ ูุธุงู ุงุณุชุนุงุฏุฉ ูููุฉ ุงููุฑูุฑ

## โ ุงูุญุงูุฉ ุงูุญุงููุฉ - ุงููุธุงู ููุชูู ููุฑุจูุท

### Backend โ
- [x] `forgotPassword` controller ููุฌูุฏ ูู `authController.js`
- [x] `resetPassword` controller ููุฌูุฏ ูู `authController.js`
- [x] Routes ููุฌูุฏุฉ ูู `authRoutes.js`:
  - `POST /api/auth/forgot-password`
  - `POST /api/auth/reset-password`
- [x] Validation schemas ููุฌูุฏุฉ ูู `validate.js`
- [x] Email service ููุฌูุฏ ูู `utils/emailService.js`
- [x] User model ูุญุชูู ุนูู `resetPasswordToken` ู `resetPasswordExpire`

### Frontend โ
- [x] ุตูุญุฉ `ForgotPassword.tsx` ููุฌูุฏุฉ ููุฑุจูุทุฉ
- [x] ุตูุญุฉ `ResetPassword.tsx` ููุฌูุฏุฉ ููุฑุจูุทุฉ
- [x] Routes ููุฌูุฏุฉ ูู `App.tsx`:
  - `/forgot-password`
  - `/reset-password`

## ๐ง ุงููุชุบูุฑุงุช ุงููุทููุจุฉ ูู `.env`

ุชุฃูุฏ ูู ูุฌูุฏ ูุฐู ุงููุชุบูุฑุงุช ูู `Hixa-back/.env`:

```env
# Email Configuration (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Frontend URL (ูุฑุงุจุท ุฅุนุงุฏุฉ ุงูุชุนููู)
FRONTEND_URL=http://localhost:3000
```

## ๐ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ Forgot Password (ุทูุจ ุฅุนุงุฏุฉ ุงูุชุนููู)

**ุงูุทุฑููุฉ 1: ูู ุงููุงุฌูุฉ**
1. ุงูุชุญ ุงููุชุตูุญ ุนูู `http://localhost:3000/forgot-password`
2. ุฃุฏุฎู ุจุฑูุฏ ุฅููุชุฑููู ูุณุฌู ูู ุงููุธุงู
3. ุงุถุบุท "ุฅุฑุณุงู ุฑุงุจุท ุฅุนุงุฏุฉ ุงูุชุนููู"
4. ุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

**ุงูุทุฑููุฉ 2: ูู Postman/API Client**
```http
POST http://localhost:5000/api/auth/forgot-password
Content-Type: application/json

{
  "email": "test@example.com"
}
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุฑุณุงูุฉ ูุฌุงุญ: "ุชู ุฅุฑุณุงู ุฑุงุจุท ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุฅูู ุจุฑูุฏู ุงูุฅููุชุฑููู"
- โ ุฅูููู ูุตู ุฅูู ุตูุฏูู ุงููุงุฑุฏ (ุฃู Spam)
- โ ุงูุฑุงุจุท ูู ุงูุฅูููู: `http://localhost:3000/reset-password?token=xxxxx`

### 2. ุงุฎุชุจุงุฑ Reset Password (ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ)

**ุงูุทุฑููุฉ 1: ูู ุงููุงุฌูุฉ**
1. ุงูุชุญ ุงูุฑุงุจุท ูู ุงูุฅูููู: `http://localhost:3000/reset-password?token=xxxxx`
2. ุฃุฏุฎู ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ (8 ุฃุญุฑู ุนูู ุงูุฃููุ ุญุฑู ูุจูุฑุ ุญุฑู ุตุบูุฑุ ุฑูู)
3. ุฃูุฏ ูููุฉ ุงููุฑูุฑ
4. ุงุถุบุท "ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ"

**ุงูุทุฑููุฉ 2: ูู Postman/API Client**
```http
POST http://localhost:5000/api/auth/reset-password
Content-Type: application/json

{
  "token": "xxxxx",  // ูู ุฑุงุจุท ุงูุฅูููู
  "password": "NewPassword123"
}
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุฑุณุงูุฉ ูุฌุงุญ: "ุชู ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุจูุฌุงุญ"
- โ ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆู ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู ุจุนุฏ ุซุงููุชูู
- โ ูููู ุชุณุฌูู ุงูุฏุฎูู ุจูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ

## ๐ ุงูุชุญูู ูู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ูุตู ุงูุฅูููู:

1. **ุชุญูู ูู Console ูู Backend:**
   ```bash
   # ูุฌุจ ุฃู ุชุฑู:
   โ Password reset email sent: <message-id>
   ```

2. **ุชุญูู ูู ูุฌูุฏ Spam/Junk:**
   - ุงูุฅูููู ูุฏ ูููู ูู ูุฌูุฏ ุงูุฑุณุงุฆู ุบูุฑ ุงููุฑุบูุจ ูููุง

3. **ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ:**
   ```bash
   # ูู Backend console:
   console.log(process.env.SMTP_HOST);
   console.log(process.env.SMTP_USER);
   console.log(process.env.FRONTEND_URL);
   ```

4. **ุชุญูู ูู Gmail App Password:**
   - ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู **App Password** ูููุณ ูููุฉ ุงููุฑูุฑ ุงูุนุงุฏูุฉ
   - ุชุฃูุฏ ูู ุชูุนูู **2-Step Verification**

### ุฅุฐุง ูุดู Reset Password:

1. **ุชุญูู ูู Token:**
   - Token ุตุงูุญ ููุฏุฉ ุณุงุนุฉ ูุงุญุฏุฉ ููุท
   - Token ูุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ููุท

2. **ุชุญูู ูู ููุฉ ูููุฉ ุงููุฑูุฑ:**
   - 8 ุฃุญุฑู ุนูู ุงูุฃูู
   - ุญุฑู ูุจูุฑ (A-Z)
   - ุญุฑู ุตุบูุฑ (a-z)
   - ุฑูู ูุงุญุฏ ุนูู ุงูุฃูู (0-9)

3. **ุชุญูู ูู Console:**
   ```bash
   # ูู Backend console:
   # ูุฌุจ ุฃู ุชุฑู ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
   ```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู:**
   - ุงููุธุงู ูุง ููุดู ุฅุฐุง ูุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ุฃู ูุง (ูุญูุงูุฉ ุงูุฎุตูุตูุฉ)
   - Token ุตุงูุญ ููุฏุฉ ุณุงุนุฉ ูุงุญุฏุฉ ููุท
   - Token ูุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ููุท

2. **Rate Limiting:**
   - ููุงู ุญุฏ ุฃูุตู ูุนุฏุฏ ุงูุทูุจุงุช (10 ุทูุจุงุช ูู 5 ุซูุงู - ููุงุฎุชุจุงุฑ)
   - ูู Productionุ ูุฌุจ ุฒูุงุฏุฉ ุงูููุช

3. **Frontend URL:**
   - ุชุฃูุฏ ูู ุฃู `FRONTEND_URL` ูู `.env` ุตุญูุญ
   - ูู Productionุ ุงุณุชุฎุฏู `https://yourdomain.com`

## โ Checklist ูุจู ุงูุฅูุชุงุฌ

- [ ] ุชุบููุฑ `FRONTEND_URL` ุฅูู ุฑุงุจุท Production
- [ ] ุงุณุชุฎุฏุงู ุฎุฏูุฉ ุฅูููู ุงุญุชุฑุงููุฉ (SendGrid, Mailgun)
- [ ] ุฒูุงุฏุฉ Rate Limiting window (15 ุฏูููุฉ ุจุฏูุงู ูู 5 ุซูุงู)
- [ ] ุงุฎุชุจุงุฑ ูุงูู ุนูู Production environment
- [ ] ุงูุชุฃูุฏ ูู ุฃู HTTPS ูุนูู ุจุดูู ุตุญูุญ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: ${new Date().toLocaleString('ar-SA')}
**ุงูุญุงูุฉ**: โ ุงููุธุงู ููุชูู ูุฌุงูุฒ ููุงุฎุชุจุงุฑ
